$(document).ready(function(e){var i={data:{BTC:null},url:{BTC:{USD:"https://apiv2.bitcoinaverage.com/indices/global/ticker/BTCUSD",EUR:"https://apiv2.bitcoinaverage.com/indices/global/ticker/BTCEUR",RUB:"https://apiv2.bitcoinaverage.com/indices/global/ticker/BTCRUB",GBP:"https://apiv2.bitcoinaverage.com/indices/global/ticker/BTCGBP"}},currencies:{USD:"$",EUR:"E",RUB:"R",GBP:"P"},parseData:function(e,t){return{price:Math.round(100*e.volume)/100,hour:Math.round(e.changes[t].hour),day:Math.round(e.changes[t].day),week:Math.round(e.changes[t].week),month:Math.round(e.changes[t].month)}}};function r(e,t,a,c){e=$("#card-"+e);$(e).find(".value-price .text-value").text(i.currencies[a]+t.price.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")),n($(e).find(".value-hour .text-value"),t.hour,c),n($(e).find(".value-day .text-value"),t.day,c),n($(e).find(".value-week .text-value"),t.week,c),n($(e).find(".value-month .text-value"),t.month,c)}function n(e,t,a){t<=0?$(e).text(t+a).removeClass("text-success").addClass("text-danger"):$(e).text("+"+t+a).removeClass("text-danger").addClass("text-success")}$(".dropdown-item").click(function(){$("[data-currency = "+$("#selectItem").text()+"]").show(),$("#selectItem").text($(this).text()),$(this).hide(),function(a,c){i.data[a]=null;var n=$("#card-"+a).find(".switch-units input").is(":checked")?"percent":"price";$.ajax({url:i.url[a][c]}).done(function(e){i.data[a]=e;var t=i.parseData(i.data[a],n);r(a,t,c,"percent"==n?"%":i.currencies[c])})}("BTC",$(this).data("currency"))}),$("[data-currency = "+$("#selectItem").text()+"]").click(),$(".switch-units").change(function(){var e=$(this).closest(".card-crypto").attr("data-card"),t=$("#selectItem").text(),a=$("#card-"+e).find(".switch-units input").is(":checked")?"percent":"price";r(e,i.parseData(i.data[e],a),t,"percent"==a?"%":i.currencies[t])})});